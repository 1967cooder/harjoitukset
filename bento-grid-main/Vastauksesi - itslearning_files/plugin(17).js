/**
 * @license TODO
 */
!function(){var e=window.localStorage;e||(e={getItem:function(e){return null},setItem:function(e,r){}});var r=CKEDITOR.plugins.autocorrect={getOption:function(e){return CKEDITOR.config["autocorrect_"+e]},setOption:function(r,t){e.setItem("autocorrect_"+r,t),CKEDITOR.config["autocorrect_"+r]=t}},t=CKEDITOR.dom.walker.bookmark();function n(e){for(var r={},t=0;t<e.length;t++)r[e[t]]=!0;return r}function a(e){var r=new CKEDITOR.dom.walker(e);r.evaluator=function(e){return e.type===CKEDITOR.NODE_TEXT&&!t(e)||e.type===CKEDITOR.NODE_ELEMENT&&"br"==e.getName()},r.current=e.startContainer,this.walker=r,this.referenceNode=e.startContainer,this.referenceCharacter=null,this.referenceCharacterOffset=e.startOffset}a.prototype.nextCharacter=function(){return null},a.prototype.previousCharacter=function(){for(;0===this.referenceCharacterOffset;){if(this.walker.current=this.referenceNode,this.referenceNode=this.walker.previous(),!this.referenceNode)return null;if(this.referenceNode.type===CKEDITOR.NODE_ELEMENT&&"br"==this.referenceNode.getName())return null;this.referenceCharacterOffset=this.referenceNode.getText().length}return 0===this.referenceCharacterOffset?null:(this.referenceCharacter=this.referenceNode.getText()[--this.referenceCharacterOffset],this.referenceCharacter)},CKEDITOR.plugins.add("autocorrect",{init:function(e){var o=e.config;e.addCommand("autocorrect",{exec:function(e){e.fire("saveSnapshot");var r,n=e.getSelection().getRanges().shift(),a=n.createBookmark();n.collapsed?(r=new CKEDITOR.dom.range(e.editable())).selectNodeContents(e.editable()):r=n.clone();var o,s=new CKEDITOR.dom.walker(r);for(e.editable().$.normalize(),s.evaluator=function(e){return e.type===CKEDITOR.NODE_TEXT&&!t(e)};o=s.next();){var c=R(o),i=$(o);s.current=p(o,i.isBlockBoundary()&&!c||c&&c.type===CKEDITOR.NODE_ELEMENT&&"br"===c.getName()),"p"!==i.getName()||u(c)||N(i)}e.getSelection().selectBookmarks([a]),e.fire("saveSnapshot")}});var s=e.addCommand("toggleAutocorrect",{preserveState:!0,canUndo:!1,exec:function(e){this.setState(c()?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_ON)}}),c=function(){return s.state===CKEDITOR.TRISTATE_ON};e.on("instanceReady",function(e){e.removeListener(),s.setState(o.autocorrect_enabled?CKEDITOR.TRISTATE_ON:CKEDITOR.TRISTATE_OFF)});var i=!1;function f(e){return r.getOption(i?e+"AsYouType":e)}function u(e,r){for(;e&&(e.type==CKEDITOR.NODE_ELEMENT&&"br"==e.getName()||t(e));)e=r?e.getPrevious():e.getNext();return e}function C(e){return" "===e||" "===e}function d(e){return"."===e||","===e||"!"===e||"?"===e||"/"===e}function l(e){return e>="A"&&e<="Z"||e>="a"&&e<="z"||e>="0"&&e<="9"}function O(e){return'"'==e||"'"==e||"«"==e||"‘"==e||"“"==e||"„"==e||"("==e||"["==e||"{"==e}var g,E=n([".",",","?","!",":","(",")","[","]","{","}",'"',"'","‘","’","“","”","«","»","<",">"]);function T(e){return e in E}function v(e){if(e.startContainer&&e.startContainer.type==CKEDITOR.NODE_ELEMENT){var r=e.startContainer.getChild(e.startOffset),t=0,n=u(r,!0);if(n)for(n!=r&&(t=n.getText().length);n&&n.type==CKEDITOR.NODE_ELEMENT;)n=n.getFirst();n||(t=0,n=new CKEDITOR.dom.text(""),e.insertNode(n)),e.setStart(n,t),e.collapse(!0)}}function h(r){v(r);var t=r.startContainer.getText().substring(r.startOffset-1,r.startOffset);f("replaceHyphens")&&O(t)&&I(r,t),f("smartQuotes")&&function(e,r){return'"'===r&&(M(e,L),!0)}(r,t)||f("smartQuotes")&&function(e,r){return"'"===r&&(M(e,A),!0)}(r,t)||(C(t)&&function(r,t){if(f("formatBulletedLists")&&function(r,t){var n=$(r.startContainer);if("p"!==n.getName())return;var o=new CKEDITOR.dom.range(e.editable());o.selectNodeContents($(r.startContainer));var s=new a(o);s.referenceNode=r.startContainer,s.referenceCharacterOffset=r.startOffset;var c=new CKEDITOR.dom.range(e.editable());if(c.setEnd(s.referenceNode,s.referenceCharacterOffset),t&&!s.previousCharacter())return;var f=s.previousCharacter();if(!f||!(f in x))return!1;if(c.setStart(s.referenceNode,s.referenceCharacterOffset),s.previousCharacter())return!1;var u=n.getPrevious();k();var C=r.createBookmark();c.deleteContents(),!i&&u&&u.type==CKEDITOR.NODE_ELEMENT&&"ul"==u.getName()?Y(n,u):H([n],"ul",null);return r.moveToBookmark(C),v(r),w(),!0}(r,t))return;if(f("formatNumberedLists")&&function(r,t){var n=$(r.startContainer);if("p"!==n.getName())return;var o=new CKEDITOR.dom.range(e.editable());o.selectNodeContents($(r.startContainer));var s=new a(o);s.referenceNode=r.startContainer,s.referenceCharacterOffset=r.startOffset;var c=new CKEDITOR.dom.range(e.editable());if(c.setEnd(s.referenceNode,s.referenceCharacterOffset),t&&!s.previousCharacter())return;if(!(s.previousCharacter()in{".":!0,")":!0}))return!1;var f,u,C="";for(;(f=s.previousCharacter())&&" "!=f&&" "!=f;)C=f+C,c.setStart(s.referenceNode,s.referenceCharacterOffset);if(C.match(/^[0-9]+$/))u="1";else if(C.match(/^[ivxlcdm]+$/))u="i";else if(C.match(/^[IVXLCDM]+$/))u="I";else if(C.match(/^[a-z]$/))u="a";else{if(!C.match(/^[A-Z]$/))return!1;u="A"}if(s.previousCharacter())return!1;var d=function(e,r){switch(r){case"1":return 0|e;case"i":return Q(e.toUpperCase());case"I":return Q(e);case"a":return z(e.toUpperCase());case"A":return z(e)}}(C,u);n=$(r.startContainer);var l=n.getPrevious();k();var O=r.createBookmark();if(c.deleteContents(),!i&&l&&l.type==CKEDITOR.NODE_ELEMENT&&"ol"==l.getName()&&l.getAttribute("type")==u&&function(e){return e.$.start+e.getChildCount()-1}(l)==d-1)Y(n,l);else{H([n],"ol",1===d?{type:u}:{type:u,start:d})}return r.moveToBookmark(O),v(r),w(),!0}(r,t))return;f("replaceHyphens")&&b(r,t)}(r,t),(d(t)||C(t))&&K(r,t))}function m(e){v(e),f("replaceHyphens")&&b(e,""),K(e,"")}function p(r,t){var n=new CKEDITOR.dom.range(e.editable());for(n.setStart(r,0),n.collapse(!0);n.startOffset<n.startContainer.getText().length;)n.setStart(n.startContainer,n.startOffset+1),n.setEnd(n.startContainer,n.startOffset),h(n),t&&n.endOffset==n.startContainer.getText().length&&m(n);return n.startContainer}function N(r){if(r){var t=r.getText();f("createHorizontalRules")&&function(r,t){var n=t.match(B);!!n&&e.document.createElement("hr").replace(r)}(r,t)}}function R(e){for(var r=e.getNext();r&&t(r);)r=r.getNext();return r}function D(e,r){var n,a=new CKEDITOR.dom.walker(e);a.evaluator=function(e){return e.type===CKEDITOR.NODE_ELEMENT&&t(e)};for(var o=[];n=a.next();)o.push(n);e.deleteContents();for(var s=0;s<o.length;s++)e.insertNode(o[s]);e.insertNode(new CKEDITOR.dom.text(r))}function I(r,t){var n=new CKEDITOR.dom.range(e.editable());n.selectNodeContents($(r.startContainer));var o=new a(n);if(o.referenceNode=r.startContainer,o.referenceCharacterOffset=r.startOffset,!t||o.previousCharacter()){for(var s,c=new CKEDITOR.dom.range(e.editable()),i="--",f=t,u=1;(s=o.previousCharacter())&&!C(s);)if(s==i[u]){if(1==u&&c.setEnd(o.referenceNode,o.referenceCharacterOffset+1),--u<0)break}else f=s,u=1;if(u>=0)return!1;if(f&&!(C(f)||l(f)||O(f)))return!1;c.setStart(o.referenceNode,o.referenceCharacterOffset);var d=o.previousCharacter();if(!d||!l(d)&&!function(e){return'"'==e||"'"==e||"»"==e||"’"==e||"”"==e||"“"==e||")"==e||"]"==e||"}"==e}(d))return!1;k();var g=r.createBookmark();D(c,"—"),r.moveToBookmark(g),v(r),w()}}function b(r,t){var n=new CKEDITOR.dom.range(e.editable());n.selectNodeContents($(r.startContainer));var s=new a(n);if(s.referenceNode=r.startContainer,s.referenceCharacterOffset=r.startOffset,!t||s.previousCharacter()){var c=new CKEDITOR.dom.range(e.editable());if(c.setEnd(s.referenceNode,s.referenceCharacterOffset),"-"!==s.previousCharacter())return!1;c.setStart(s.referenceNode,s.referenceCharacterOffset);var i=s.previousCharacter();if("-"==i&&(c.setStart(s.referenceNode,s.referenceCharacterOffset),i=s.previousCharacter()),!C(i))return!1;var f=o.autocorrect_dash;k();var u=r.createBookmark();D(c,f),r.moveToBookmark(u),v(r),w()}}function K(r,t){f("recognizeUrls")&&function(r,t){if(d(t))return;var n=new CKEDITOR.dom.range(e.editable());n.selectNodeContents($(r.startContainer));var o=new a(n);if(o.referenceNode=r.startContainer,o.referenceCharacterOffset=r.startOffset,t&&!o.previousCharacter())return;var s=new CKEDITOR.dom.range(e.editable());s.setEnd(o.referenceNode,o.referenceCharacterOffset);var c,i=!0,f="";for(;(c=o.previousCharacter())&&" "!=c&&" "!=c;)i&&T(c)?s.setEnd(o.referenceNode,o.referenceCharacterOffset):(f=c+f,i=!1,s.setStart(o.referenceNode,o.referenceCharacterOffset));if(!(f=f.match(_)))return!1;var u=f[0],C=f[1].toLowerCase(),l="www."===C?"http://"+u:u;k();var O=r.createBookmark(),g={"data-cke-saved-href":l,href:l};"mailto:"!==C&&"tel:"!==C&&"skype:"!==C&&(g.target="_blank");var E=new CKEDITOR.style({element:"a",attributes:g});return E.type=CKEDITOR.STYLE_INLINE,E.applyToRange(s),r.moveToBookmark(O),v(r),w(),!0}(r,t)||(o.autocorrect_useReplacementTable&&function(r,t){var n=new CKEDITOR.dom.range(e.editable());n.selectNodeContents($(r.startContainer));var o,s=new a(n);if(s.referenceNode=r.startContainer,s.referenceCharacterOffset=r.startOffset,t&&!s.previousCharacter())return;var c=new CKEDITOR.dom.range(e.editable());c.setEnd(s.referenceNode,s.referenceCharacterOffset);var i,f="";for(;(i=s.previousCharacter())&&!C(i);)f=i+f,-1!==Object.keys(y).indexOf(f)&&(o=y[f],c.setStart(s.referenceNode,s.referenceCharacterOffset));if(!o)return!1;k();var u=r.createBookmark();D(c,o),r.moveToBookmark(u),v(r),w()}(r,t),f("formatOrdinals")&&function(r,t){var n=new CKEDITOR.dom.range(e.editable());n.selectNodeContents($(r.startContainer));var o=new a(n);if(o.referenceNode=r.startContainer,o.referenceCharacterOffset=r.startOffset,t&&!o.previousCharacter())return;var s=new CKEDITOR.dom.range(e.editable());s.setEnd(o.referenceNode,o.referenceCharacterOffset);for(var c,i="",f=0;f<2&&(c=o.previousCharacter());f++)i=c+i;if(!(i in S))return!1;s.setStart(o.referenceNode,o.referenceCharacterOffset);var u="";for(;c=o.previousCharacter();){if(!(c>="0"&&c<="9")){if(l(c))return!1;break}u=c+u}var C=u%100;if(C>9&&C<20){if("th"!==i)return!1}else if(1==(C=u%10)){if("st"!==i)return!1}else if(2==C){if("nd"!==i)return!1}else if(3==C){if("rd"!==i)return!1}else if("th"!==i)return!1;k();var d=r.createBookmark();new CKEDITOR.style({element:"sup"}).applyToRange(s),r.moveToBookmark(d),v(r),w()}(r,t),f("replaceHyphens")&&I(r,t))}function k(){i&&(e.fire("saveSnapshot"),g=e.getSelection().getRanges().shift().createBookmark())}function w(){i&&(e.getSelection().selectBookmarks([g]),e.fire("saveSnapshot"))}var y=o.autocorrect_replacementTable;var _=/^(http:|https:|ftp:|mailto:|tel:|skype:|www\.).+$/i;var S={st:!0,nd:!0,rd:!0,th:!0};var B=/^(-{3,}|_{3,})$/;var x=n(["*","+","•","-"]);var L=o.autocorrect_doubleQuotes;var A=o.autocorrect_singleQuotes;function M(r,t){var n=new CKEDITOR.dom.range(e.editable());n.selectNodeContents($(r.startContainer));var o=new a(n);o.referenceNode=r.startContainer,o.referenceCharacterOffset=r.startOffset;var s=new CKEDITOR.dom.range(e.editable());s.setEnd(o.referenceNode,o.referenceCharacterOffset),o.previousCharacter(),s.setStart(o.referenceNode,o.referenceCharacterOffset);var c=o.previousCharacter(),i=!!c&&"  –—([{".indexOf(c)<0,f=t[Number(i)];k();var u=r.createBookmark();D(s,f),r.moveToBookmark(u),v(r),w()}function $(e){for(;e&&(e.type!==CKEDITOR.NODE_ELEMENT||e.getName()in CKEDITOR.dtd.$inline||e.getName()in CKEDITOR.dtd.$empty);)e=e.getParent();return e}function H(r,t,n){for(var a=r[r.length-1].getNext(),o=e.document.createElement(t),s=r[0].getParent();r.length;)Y(r.shift(),o);n&&o.setAttributes(n),a?o.insertBefore(a):o.appendTo(s)}function Y(r,t){var n=e.document.createElement("li");r.copyAttributes(n),r.moveChildren(n),r.remove(),n.appendTo(t)}function z(e){return"ABCDEFGHIJKLMNOPQRSTUVWXYZ".indexOf(e)+1}function Q(e){return e?"M"==e.substring(0,1)?1e3+Q(e.substring(1)):"CM"==e.substring(0,2)?900+Q(e.substring(2)):"D"==e.substring(0,1)?500+Q(e.substring(1)):"CD"==e.substring(0,2)?400+Q(e.substring(2)):"C"==e.substring(0,1)?100+Q(e.substring(1)):"XC"==e.substring(0,2)?90+Q(e.substring(2)):"L"==e.substring(0,1)?50+Q(e.substring(1)):"XL"==e.substring(0,2)?40+Q(e.substring(2)):"X"==e.substring(0,1)?10+Q(e.substring(1)):"IX"==e.substring(0,2)?9+Q(e.substring(2)):"V"==e.substring(0,1)?5+Q(e.substring(1)):"IV"==e.substring(0,2)?4+Q(e.substring(2)):"I"==e.substring(0,1)?1+Q(e.substring(1)):void 0:0}e.on("key",function(r){if((2228237==r.data.keyCode||13==r.data.keyCode)&&c()&&"wysiwyg"===e.mode){var t=e.getSelection().getRanges().shift(),n=null;if(13===r.data.keyCode){var a=$(t.startContainer);"p"===a.getName()&&(n=a)}setTimeout(function(){i=!0,m(t),N(n),i=!1})}}),e.on("contentDom",function(){e.editable().on("keypress",function(r){0!==r.data.$.charCode&&c()&&setTimeout(function(){i=!0,h(e.getSelection().getRanges().shift()),i=!1})})})}})}(),CKEDITOR.config.autocorrect_enabled=!0,CKEDITOR.config.autocorrect_replacementTable={"--\x3e":"→","-+":"∓","->":"→","...":"…","(c)":"©","(e)":"€","(r)":"®","(tm)":"™","(o)":"˚","+-":"±","<-":"←","<--":"←","<--\x3e":"↔","<->":"↔","<<":"«",">>":"»","~=":"≈","1/2":"½","1/4":"¼","3/4":"¾"},CKEDITOR.config.autocorrect_useReplacementTable=!0,CKEDITOR.config.autocorrect_recognizeUrlsAsYouType=!0,CKEDITOR.config.autocorrect_recognizeUrls=!0,CKEDITOR.config.autocorrect_dash="–",CKEDITOR.config.autocorrect_replaceHyphensAsYouType=!0,CKEDITOR.config.autocorrect_replaceHyphens=!0,CKEDITOR.config.autocorrect_formatOrdinalsAsYouType=!0,CKEDITOR.config.autocorrect_formatOrdinals=!0,CKEDITOR.config.autocorrect_singleQuotes="‘’",CKEDITOR.config.autocorrect_smartQuotesAsYouType=!0,CKEDITOR.config.autocorrect_smartQuotes=!0,CKEDITOR.config.autocorrect_doubleQuotes="“”",CKEDITOR.config.autocorrect_createHorizontalRulesAsYouType=!0,CKEDITOR.config.autocorrect_createHorizontalRules=!0,CKEDITOR.config.autocorrect_formatBulletedListsAsYouType=!0,CKEDITOR.config.autocorrect_formatBulletedLists=!0,CKEDITOR.config.autocorrect_formatNumberedListsAsYouType=!0,CKEDITOR.config.autocorrect_formatNumberedLists=!0;