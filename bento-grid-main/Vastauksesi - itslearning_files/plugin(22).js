/**
 * @license Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
"use strict";!function(){var e={toolbarFocus:{editorFocus:!1,readOnly:1,exec:function(e){var t=e._.elementsPath.idBase,n=CKEDITOR.document.getById(t+"0");n&&n.focus(CKEDITOR.env.ie||CKEDITOR.env.air)}}},t='<span class="cke_path_empty">&nbsp;</span>',n="";let a="";CKEDITOR.env.gecko&&CKEDITOR.env.mac&&(n+=' onkeypress="return false;"'),CKEDITOR.env.gecko&&(n+=' onblur="this.style.cssText = this.style.cssText;"');var l=CKEDITOR.addTemplate("pathItem",'<a id="{id}" href="{jsTitle}" tabindex="-1" class="cke_path_item" title="{label}"'+n+' draggable="false"  ondragstart="return false;" onkeydown="return CKEDITOR.tools.callFunction({keyDownFn},{index}, event );" onclick="CKEDITOR.tools.callFunction({clickFn},{index}); return false;" role="button" aria-label="{label}">{text}</a>');CKEDITOR.plugins.add("elementspathcustom",{lang:"ca,co,da,de,en,en-gb,en-us,es,fi,fr,it,lt,nb,nl,nn-no,pl,pt-br,ru,sv,tr,uk,zh-cn",init:function(n){n._.elementsPath={idBase:"cke_elementspath_"+CKEDITOR.tools.getNextNumber()+"_",filters:[]},n.on("uiSpace",function(s){"bottom"==s.data.space&&function(n,s){var o,c=n.ui.spaceId("path"),i=function(){return o||(o=CKEDITOR.document.getById(c)),o},r=n._.elementsPath,d=r.idBase;let u=n.config.elementspathcustom,p=u?u.ExtraSettings:null;function m(e){var t,a=r.list[e];if(a.equals(n.editable())||"true"==a.getAttribute("contenteditable")){var l=n.createRange();l.selectNodeContents(a),t=l.select()}else(t=n.getSelection()).selectElement(a);CKEDITOR.env.ie&&n.fire("selectionChange",{selection:t,path:new CKEDITOR.dom.elementPath(a)}),n.focus()}a=p?p.OpenHelpText:"",s.html+='<span id="'+c+'_label" class="cke_voice_label">'+n.lang.elementspath.eleLabel+'</span><span id="'+c+'" class="cke_path" role="group" aria-labelledby="'+c+'_label">'+t+'</span><span class="cke_help_tip">'+a+"</span>",n.on("uiReady",function(){var e=n.ui.space("path");e&&n.focusManager.add(e,1)}),r.onClick=m;var h=CKEDITOR.tools.addFunction(m),f=CKEDITOR.tools.addFunction(function(e,t){var a,l=r.idBase;t=new CKEDITOR.dom.event(t);var s="rtl"==n.lang.dir;switch(t.getKeystroke()){case s?39:37:case 9:return(a=CKEDITOR.document.getById(l+(e+1)))||(a=CKEDITOR.document.getById(l+"0")),a.focus(),!1;case s?37:39:case CKEDITOR.SHIFT+9:return(a=CKEDITOR.document.getById(l+(e-1)))||(a=CKEDITOR.document.getById(l+(r.list.length-1))),a.focus(),!1;case 27:return n.focus(),!1;case 13:case 32:return m(e),!1}return!0});function g(){o&&o.setHtml(t),delete r.list}n.on("selectionChange",function(e){for(var a,s=[],o=r.list=[],c=[],u=r.filters,p=!0,m=e.data.path.elements,g=m.length;g--;){var b=m[g],I=0;a=b.data("cke-display-name")?b.data("cke-display-name"):b.data("cke-real-element-type")?b.data("cke-real-element-type"):b.getName(),(p=b.hasAttribute("contenteditable")?"true"==b.getAttribute("contenteditable"):p)||b.hasAttribute("contenteditable")||(I=1);for(var T=0;T<u.length;T++){var v=u[T](b,a);if(!1===v){I=1;break}a=v||a}I||(o.unshift(b),c.unshift(a))}for(var C=o.length,D=0;D<C;D++){a=c[D];var O=n.lang.elementspath.eleTitle.replace(/%1/,a),E=l.output({id:d+D,label:O,text:a,jsTitle:"javascript:void('"+a+"')",index:D,keyDownFn:f,clickFn:h});s.unshift(E)}var K=i();K.setHtml(s.join("")+t),n.fire("elementsPathUpdate",{space:K})}),n.on("readOnly",g),n.on("contentDomUnload",g),n.addCommand("elementsPathFocus",e.toolbarFocus),n.setKeystroke(CKEDITOR.ALT+122,"elementsPathFocus")}(n,s.data)})}})}();